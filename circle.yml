machine:
  timezone:
    Australia/Sydney
  java:
    version: oraclejdk8
    
dependencies: 
  override:
    - ./gradlew wrapper
    - ./gradlew dependencies
  cache_directories:
    - "~/.gradle/caches/"
    - "~/.gradle/wrapper/"

test:
  override:
    - ./gradlew unitTest
    - ./gradlew integrationTest
    - ./gradlew uiIntegrationTest
  post:
    - ./gradlew jacocoTestReport

deployment:
  production:
    branch: master
    commands:
      - ./cd/deploy.sh
